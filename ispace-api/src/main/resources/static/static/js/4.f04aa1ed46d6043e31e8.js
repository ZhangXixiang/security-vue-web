webpackJsonp([4],{GZY3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{dialogVisible:!1,tableLoading:!1,index:0,salaries:[],totalCount:-1,currentPage:1,multipleSelection:[],salary:{id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""}}},methods:{stateFormat:function(e,t){return 0===e.isDeleted?"已上架":1===e.isDeleted?"已下架":void 0},deleteAll:function(){var e=this;this.$confirm("上下架["+this.multipleSelection.length+"]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t="";e.multipleSelection.forEach(function(e){t=t+e.id+","}),e.doDelete(t)}).catch(function(){e.$message({type:"info",message:"已取消上下架"})})},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.dialogVisible=!0,t.createDate=new Date(t.createDate),delete t.allSalary,this.salary=t},handleDelete:function(e,t){var a=this;this.$confirm("上下架["+t.name+"]话题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.doDelete(t.id)}).catch(function(){a.$message({type:"info",message:"已取消上下架"})})},doDelete:function(e){var t=this;t.tableLoading=!0,this.deleteRequest("/salary/sob/salary/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){e.data;t.loadSalaryCfg()}})},next:function(){var e=this;3==this.index?this.salary.sort&&this.salary.isDeleted&&this.salary.name&&this.salary.content?this.salary.id?(e.tableLoading=!0,this.putRequest("/salary/sob/salary",this.salary).then(function(t){if(e.tableLoading=!1,t&&200==t.status){t.data;e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}})):this.postRequest("/salary/sob/salary",this.salary).then(function(t){if(t&&200==t.status){t.data;e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}}):this.$message({type:"error",message:"字段不能为空!"}):this.index++},currentChange:function(e){this.currentPage=e,this.loadSalaryCfg()},loadSalaryCfg:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sob/salary?page="+this.currentPage+"&size=10").then(function(t){if(e.tableLoading=!1,t&&200==t.status){var a=t.data;e.salaries=a.emps,e.totalCount=a.count}})},emptySalary:function(){this.salary={id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""},this.index=0}},mounted:function(){this.loadSalaryCfg()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","padding-left":"0px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加话题")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh"},on:{click:e.loadSalaryCfg}})],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.salaries,stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",prop:"name",label:"话题名称"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"collectCount",label:"关注数"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"commentCount",label:"回答数"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"isDeleted",formatter:e.stateFormat,label:"当前状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",width:"70",label:"显示顺序"}}),e._v(" "),a("el-table-column",{attrs:{width:"140",label:"最后操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userId",width:"70",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"}},[a("el-table-column",{attrs:{label:"编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"上下架",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("上下架\n                ")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1),e._v(" "),0!=e.salaries?a("div",{staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-button",{attrs:{type:"danger",round:"",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteAll}},[e._v("批量上下架\n        ")])],1):e._e()])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"话题新增",visible:e.dialogVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.emptySalary}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("el-steps",{attrs:{active:e.index,direction:"vertical"}},[a("el-step",{attrs:{title:"展示顺序",size:"mini"}}),e._v(" "),a("el-step",{attrs:{title:"是否上架"}}),e._v(" "),a("el-step",{attrs:{title:"话题名称"}}),e._v(" "),a("el-step",{attrs:{title:"话题介绍"}})],1),e._v(" "),a("div",{staticStyle:{"margin-left":"30px",display:"flex","justify-content":"center","align-items":"center",width:"80%"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.index,expression:"index==0"}]},[e._v("\n            展示顺序：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入展示顺序...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.sort,callback:function(t){e.$set(e.salary,"sort",t)},expression:"salary.sort"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.index,expression:"index==1"}]},[e._v("\n            是否上架：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入是否上架...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.isDeleted,callback:function(t){e.$set(e.salary,"isDeleted",t)},expression:"salary.isDeleted"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.index,expression:"index==2"}]},[e._v("\n            话题名称：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入话题名称...",size:"mini",type:"text"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.name,callback:function(t){e.$set(e.salary,"name",t)},expression:"salary.name"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.index,expression:"index==3"}]},[e._v("\n            话题介绍：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入话题介绍...",size:"mini",type:"text"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.content,callback:function(t){e.$set(e.salary,"content",t)},expression:"salary.content"}})],1)])],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",padding:"0px",margin:"0px"}},[0!=e.index?a("el-button",{attrs:{round:"",size:"mini"},on:{click:function(t){e.index--}}},[e._v("上一步")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},domProps:{textContent:e._s(3==e.index?"完成":"下一步")},on:{click:e.next}})],1)])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("bQlF")},null,null);t.default=l.exports},K5YU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{dialogVisible:!1,tableLoading:!1,index:0,salaries:[],totalCount:-1,currentPage:1,multipleSelection:[],salary:{id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""}}},methods:{stateFormat:function(e,t){return 0===e.isDeleted?"已上架":1===e.isDeleted?"已下架":void 0},deleteAll:function(){var e=this;this.$confirm("上下架["+this.multipleSelection.length+"]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t="";e.multipleSelection.forEach(function(e){t=t+e.id+","}),e.doDelete(t)}).catch(function(){e.$message({type:"info",message:"已取消上下架"})})},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.dialogVisible=!0,t.createDate=new Date(t.createDate),delete t.allSalary,this.salary=t},handleDelete:function(e,t){var a=this;this.$confirm("上下架["+t.name+"]话题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.doDelete(t.id)}).catch(function(){a.$message({type:"info",message:"已取消上下架"})})},doDelete:function(e){var t=this;t.tableLoading=!0,this.deleteRequest("/salary/sob/salary/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){e.data;t.loadSalaryCfg()}})},next:function(){var e=this;3==this.index?this.salary.sort&&this.salary.isDeleted&&this.salary.name&&this.salary.content?this.salary.id?(e.tableLoading=!0,this.putRequest("/salary/sob/salary",this.salary).then(function(t){if(e.tableLoading=!1,t&&200==t.status){t.data;e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}})):this.postRequest("/salary/sob/salary",this.salary).then(function(t){if(t&&200==t.status){t.data;e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}}):this.$message({type:"error",message:"字段不能为空!"}):this.index++},currentChange:function(e){this.currentPage=e,this.loadSalaryCfg()},loadSalaryCfg:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sob/follow?page="+this.currentPage+"&size=10").then(function(t){if(e.tableLoading=!1,t&&200==t.status){var a=t.data;e.salaries=a.emps,e.totalCount=a.count}})},emptySalary:function(){this.salary={id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""},this.index=0}},mounted:function(){this.loadSalaryCfg()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","padding-left":"0px"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh"},on:{click:e.loadSalaryCfg}})],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.salaries,stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",prop:"topicName",label:"话题名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userId",width:"70",label:"用户id"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"话题新增",visible:e.dialogVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.emptySalary}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("el-steps",{attrs:{active:e.index,direction:"vertical"}},[a("el-step",{attrs:{title:"展示顺序",size:"mini"}}),e._v(" "),a("el-step",{attrs:{title:"是否上架"}}),e._v(" "),a("el-step",{attrs:{title:"话题名称"}}),e._v(" "),a("el-step",{attrs:{title:"话题介绍"}})],1),e._v(" "),a("div",{staticStyle:{"margin-left":"30px",display:"flex","justify-content":"center","align-items":"center",width:"80%"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.index,expression:"index==0"}]},[e._v("\n            展示顺序：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入展示顺序...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.sort,callback:function(t){e.$set(e.salary,"sort",t)},expression:"salary.sort"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.index,expression:"index==1"}]},[e._v("\n            是否上架：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入是否上架...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.isDeleted,callback:function(t){e.$set(e.salary,"isDeleted",t)},expression:"salary.isDeleted"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.index,expression:"index==2"}]},[e._v("\n            话题名称：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入话题名称...",size:"mini",type:"text"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.name,callback:function(t){e.$set(e.salary,"name",t)},expression:"salary.name"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.index,expression:"index==3"}]},[e._v("\n            话题介绍：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入话题介绍...",size:"mini",type:"text"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.next(t)}},model:{value:e.salary.content,callback:function(t){e.$set(e.salary,"content",t)},expression:"salary.content"}})],1)])],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",padding:"0px",margin:"0px"}},[0!=e.index?a("el-button",{attrs:{round:"",size:"mini"},on:{click:function(t){e.index--}}},[e._v("上一步")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},domProps:{textContent:e._s(3==e.index?"完成":"下一步")},on:{click:e.next}})],1)])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("sYSl")},null,null);t.default=l.exports},bQlF:function(e,t){},sALK:function(e,t,a){var n={"./PerEc.vue":"GZY3","./PerTrain.vue":"K5YU"};function i(e){return a(l(e))}function l(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id="sALK"},sYSl:function(e,t){}});
//# sourceMappingURL=4.f04aa1ed46d6043e31e8.js.map